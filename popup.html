<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Add Event</title>
    <style>
        body { font-family: sans-serif; width: 350px; padding: 10px; }
        label { display: block; margin-top: 12px; font-weight: bold; font-size: 0.9em; }
        input, textarea { width: 95%; padding: 6px; border: 1px solid #ccc; border-radius: 3px; }
        textarea { resize: vertical; min-height: 60px; }
        .time-container { display: flex; justify-content: space-between; }
        .time-container div { width: 48%; }
        button { width: 100%; padding: 10px; margin-top: 15px; background-color: #4285F4; color: white; border: none; cursor: pointer; border-radius: 3px; font-size: 1em; }
        #status { margin-top: 10px; text-align: center; }
        #drop-zone {
            border: 2px dashed #ccc;
            border-radius: 5px;
            padding: 20px;
            text-align: center;
            color: #777;
            margin-top: 15px;
            cursor: pointer;
            transition: background-color 0.2s, border-color 0.2s;
        }
        #drop-zone.dragover {
            background-color: #f0f8ff;
            border-color: #4285F4;
        }
    </style>
</head>
<body>
    <h3>Add Event to Calendar</h3>
    <form id="event-form">
        <label for="event-title">Title:</label>
        <input type="text" id="event-title" required>
        
        <div class="time-container">
            <div>
                <label for="event-start-datetime">Start Time:</label>
                <input type="datetime-local" id="event-start-datetime" required>
            </div>
            <div>
                <label for="event-end-datetime">End Time:</label>
                <input type="datetime-local" id="event-end-datetime" required>
            </div>
        </div>

        <label for="event-location">Location:</label>
        <input type="text" id="event-location">

        <label for="event-description">Description:</label>
        <textarea id="event-description"></textarea>
        
        <button type="submit">Add to Google Calendar</button>
    </form>
    <div id="status"></div>

    <div id="drop-zone">
        Or drop .ics file here
    </div>
    <input type="file" id="ics-file-input" accept=".ics,text/calendar" style="display: none;">

    <script src="lib/ical.min.js"></script> <!-- Load the library FIRST -->
    <script src="popup.js"></script>
</body>
</html>